<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="menustyle.css">
    <title>Document</title>
</head>
<body>
    <div class="notif-box">
    <!--Header for the notification page-->
        <div class="Notification-header">
            <a href="#" id="backBtn" class="back-button-notif">
                <i class="bi bi-arrow-left-square-fill"></i> Back
            </a>
            <h1><i class="bi bi-bell-fill"></i>Notifications</h1>
        </div>
        <div class="notif-container">
            <div class="notif-info">
                <!--Notification with green circle for approaching jeepneys-->
                <div class="notif-row">
                    <div class="notif-left">
                        <div class="status-circle red"></div>
                        <div class="notif-text">
                            <div class="notif-message">Your account is suspended by an admin.</div>
                            <div class="notif-date">November 5, 2025</div>
                        </div>
                    </div>
                    <div class="notif-actions">
                        <button class="read-btn" title="Mark as read"><i class="bi bi-envelope-open"></i></button>
                        <button class="delete-btn" title="Delete notification"><i class="bi bi-trash"></i></button>
                    </div>
                </div>
                <!--Notification with red circle for jeepneys that already passed-->
                <div class="notif-row">
                    <div class="notif-left">
                        <div class="status-circle red"></div>
                        <div class="notif-text">
                            <div class="notif-message">A jeep has passed your waiting area</div>
                            <div class="notif-date">November 5, 2025</div>
                        </div>
                    </div>
                    <div class="notif-actions">
                        <button class="read-btn" title="Mark as read"><i class="bi bi-envelope-open"></i></button>
                        <button class="delete-btn" title="Delete notification"><i class="bi bi-trash"></i></button>
                    </div>
                </div>

                <div class="notif-row">
                    <div class="notif-left">
                        <div class="status-circle green"></div>
                        <div class="notif-text">
                            <div class="notif-message">A jeep is approaching your waiting area</div>
                            <div class="notif-date">November 5, 2025</div>
                        </div>
                    </div>
                    <div class="notif-actions">
                        <button class="read-btn" title="Mark as read"><i class="bi bi-envelope-open"></i></button>
                        <button class="delete-btn" title="Delete notification"><i class="bi bi-trash"></i></button>
                    </div>
                </div>

                <div class="notif-row">
                    <div class="notif-left">
                        <div class="status-circle green"></div>
                        <div class="notif-text">
                            <div class="notif-message">A jeep is approaching your waiting area</div>
                            <div class="notif-date">November 5, 2025</div>
                        </div>
                    </div>
                    <div class="notif-actions">
                        <button class="read-btn" title="Mark as read"><i class="bi bi-envelope-open"></i></button>
                        <button class="delete-btn" title="Delete notification"><i class="bi bi-trash"></i></button>
                    </div>
                </div>

                <div class="notif-row">
                    <div class="notif-left">
                        <div class="status-circle green"></div>
                        <div class="notif-text">
                            <div class="notif-message">A jeep is approaching your waiting area</div>
                            <div class="notif-date">November 5, 2025</div>
                        </div>
                    </div>
                    <div class="notif-actions">
                        <button class="read-btn" title="Mark as read"><i class="bi bi-envelope-open"></i></button>
                        <button class="delete-btn" title="Delete notification"><i class="bi bi-trash"></i></button>
                    </div>
                </div>

                <div class="notif-row">
                    <div class="notif-left">
                        <div class="status-circle green"></div>
                        <div class="notif-text">
                            <div class="notif-message">A jeep is approaching your waiting area</div>
                            <div class="notif-date">November 5, 2025</div>
                        </div>
                    </div>
                    <div class="notif-actions">
                        <button class="read-btn" title="Mark as read"><i class="bi bi-envelope-open"></i></button>
                        <button class="delete-btn" title="Delete notification"><i class="bi bi-trash"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
<script type="module">
    const role = sessionStorage.getItem('userRole') || 'commuter';
    const backBtn = document.getElementById('backBtn');
    if (backBtn) {
        backBtn.addEventListener('click', (e) => {
            e.preventDefault();
            window.location.href = role === 'driver' ? '../mainpage/driver.html' : '../mainpage/commuter.html';
        });
    }
    if (!sessionStorage.getItem('userRole')) {
        try {
            import('https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm').then(async ({ createClient }) => {
                const supabase = createClient('https://tydvoylhjojxzykdotxf.supabase.co','sb_publishable_A8lnpV3CPNxvieBXuMYmiA_hlSkQUUp');
                const { data: { user } } = await supabase.auth.getUser();
                let r = 'commuter';
                if (user?.user_metadata?.role) {
                    r = user.user_metadata.role;
                } else if (user?.id) {
                    const { data } = await supabase.from('profiles').select('role').eq('id', user.id).maybeSingle();
                    if (data?.role) r = data.role;
                }
                sessionStorage.setItem('userRole', r);
            });
        } catch {}
    }
</script>
</html>